Actor Flare_General
{
Scale 0.4
Speed 0
radius 1
height 1
alpha 0.4
renderstyle Add
+NOINTERACTION
+NOGRAVITY
+CLIENTSIDEONLY
+NOCLIP
+MISSILE
}

Actor NewfagExplosionFlare : Flare_General
{
XScale 0.8
YScale 0.4
Alpha 0.5
	states
	{
	Spawn:
		FLAR A 2 Bright
		FLAR AAAAAAAAAAAAAAAA 1 Bright A_FadeOut(0.11)
		Stop
	}
}

Actor RedFlare : Flare_General
{
	states
	{
	Spawn:
		LENR A 0 NoDelay A_Jump(128,2)
		LENR A 2 Bright
		Stop
		LENR B 2 Bright
		Stop
	}
}

Actor RedFlare3 : Flare_General
{
	states
	{
	Spawn:
		LENR A 0 NoDelay A_Jump(128,4)
		LENR AAB 1 Bright
		Stop
		LENR BAB 1 Bright
		Stop
	}
}

Actor BlueFlare : Flare_General
{
	states
	{
	Spawn:
		LENB A 0 NoDelay A_Jump(128,2)
		LENB A 2 Bright
		Stop
		LENB B 2 Bright
		Stop
	}
}

Actor BlueFlare3 : Flare_General
{
	states
	{
	Spawn:
		LENB A 0 NoDelay A_Jump(128,4)
		LENB AAB 1 Bright
		Stop
		LENB BAB 1 Bright
		Stop
	}
}

Actor GreenFlare : Flare_General
{
	states
	{
	Spawn:
		LENG A 0 NoDelay A_Jump(128,2)
		LENG A 2 Bright
		Stop
		LENG B 2 Bright
		Stop
	}
}

Actor GreenFlare3 : Flare_General
{
states
	{
	Spawn:
		LENG A 0 NoDelay A_Jump(128,4)
		LENG AAB 1 Bright
		Stop
		LENG BAB 1 Bright
		Stop
	}
}

Actor YellowFlare : Flare_General
{
	states
	{
	Spawn:
		LENY A 0 NoDelay A_Jump(128,2)
		LENY A 2 Bright
		Stop
		LENY B 2 Bright
		Stop
	}
}

Actor YellowFlareSmall : YellowFlare
{
Scale 0.15
}

Actor YellowFlareMedium : YellowFlare
{
Scale 0.20
}

Actor YellowFlareLarge1X : YellowFlare
{
Scale 1.0
}

Actor RedFlareMedium : RedFlare
{
Scale 0.25
}

Actor RedFlareBig : RedFlare
{
Scale 0.9
}

Actor RedFlareLarge1X : RedFlare
{
Scale 1.0
}

Actor RedFlareSmall : RedFlare
{
Scale 0.15
}

Actor RedFlareVerySmall : RedFlare
{
Scale 0.2
alpha 0.15
}

Actor RedFlareSmall2 : RedFlare
{
Scale 0.10
}

Actor GreenFlareSmall : GreenFlare
{
Scale 0.2
alpha 0.4
}

Actor GreenFlareSmallItem : GreenFlare
{
XScale 0.15
YScale 0.07
alpha 0.4
}

Actor GreenFlareMedium : GreenFlare
{
alpha 0.3
Scale 0.25
}

Actor BlueFlareMedium : BlueFlare
{
Scale 0.15
alpha 0.3
}

Actor BlueFlareMedium2 : BlueFlare
{
Scale 0.25
alpha 0.3
}

Actor BlueFlareMedium3 : BlueFlare
{
Scale 0.35
alpha 0.3
}

Actor BlueFlareSmall : BlueFlare
{
Scale 0.15
alpha 0.3
}

Actor BlueFlareSmallProjectile : BlueFlare
{
Scale 0.2
alpha 0.6
	States
	{
	Spawn:
		LENB A 0 NoDelay A_Jump(128,2)
		LENB A 1 Bright
		Stop
		LENB B 1 Bright
		Stop
	}
}

Actor BlueFlareSmallItem : BlueFlare
{
XScale 0.15
YScale 0.07
alpha 0.3
}


Actor PlasmaFlare : Flare_General
{
Scale 0.15
alpha 0.4
	states
	{
	Spawn:
		L2NB A 0 NoDelay A_Jump(128,2)
		L2NB A 1 Bright
		Stop
		L2NB B 1 Bright
		Stop
	}
}

Actor FireballFlare : Flare_General
{
Scale 0.15
alpha 0.6
	states
	{
	Spawn:
		LENY A 0 NoDelay A_Jump(128,2)
		LENY A 1 Bright
		Stop
		LENY B 1 Bright
		Stop
	}
}

Actor RocketFlare : Flare_General
{
xScale 0.6
yScale 0.6
alpha 1.0
	states
	{
	Spawn:
		LEYS O 2 Bright
		Stop
	}
}

actor LaserWhiteFlare : RocketFlare
{
	states
	{
	Spawn:
		LENW A 2 NoDelay Bright A_SetScale(0.5,0.5)
		LENW A 2 Bright A_SetScale(1,1)
		LENW A 2 Bright A_SetScale(0.5,0.5)
		Stop
	}
}


Actor GreenFlareSmall2 : GreenFlare
{
Scale 0.15
alpha 0.15
}

Actor LensFlare : Flare_General
{
alpha 0.45
Scale 0.5
	states
	{
	Spawn:
		LENS A 5 Bright
		Stop
	}
}

Actor WhiteFlareSmall : Flare_General
{
Scale 0.15
alpha 0.05
	states
	{
	Spawn:
		LENW A 5 Bright
		Stop
	}
}

Actor ShortWhiteFlareSmall : Flare_General
{
XScale 0.5
YScale 0.2
alpha 0.6
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
	states
	{
	Spawn:
		LENS A 5
		Stop
	}
}

Actor WhiteFlareCeilingTexture : Flare_General
{
XScale 0.5
YScale 0.2
alpha 0.99
rADIUS 0
Height 0
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+NOCLIP
+NOGRAVITY
+FLOAT
	states
	{
	Spawn:
		LENS A 1
		LENS A -1
		Stop
	}
}

Actor WhiteFlareFloorTexture : Flare_General
{
XScale 0.5
YScale 0.2
radius 1
Height 1
alpha 0.99
-NOGRAVITY
-FLOAT
-NOCLIP
-NOINTERACTION
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
	states
	{
	Spawn:
//		TNT1 A 1 ACS_ExecuteAlways(17002,0)										//R30.9	//r31 removed
		LENS A 0 NoDelay  A_JumpIf(CallACS("Light_Fog_Remover")==2,"SpawnNo")			//r31
		TNT1 A 0 A_JumpIf(CallACS("Light_Fog_Remover")==0,"SpawnNo")			//r31
	Live:
		TNT1 A 0 A_CheckSight("WaitSight")
		LENS A 525																//R30.9 WAS -1 TICS	//r31 was 4 tics
		Goto Spawn																//R30.9 WAS Stop
	WaitSight:
		TNT1 A 3
		Goto Live
	SpawnNo:																	//R30.9
		TNT1 A 525																//R30.9	//r31 was 0
		Goto Spawn																//R30.9
	}
}

Actor ShortWhiteFlareSmallPermanent : Flare_General
{
XScale 0.5
YScale 0.2
alpha 0.6
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+NOBLOCKMAP
	states
	{
	Spawn:
//		TNT1 A 1 ACS_ExecuteAlways(17002,0)										//R30.9	//r31 removed
		LENS A 0 NoDelay A_JumpIf(CallACS("Light_Fog_Remover")==2,"SpawnNo")			//r31
		TNT1 A 0 A_JumpIf(CallACS("Light_Fog_Remover")==0,"SpawnNo")			//r31
	Live:
		TNT1 A 0 A_CheckSight("WaitSight")
		LENS A 525																//r31 was 5
		Goto Spawn																//R30.9 WAS LOOP
	WaitSight:
		TNT1 A 3
		Goto Live
	SpawnNo:																	//R30.9
		TNT1 A 525																//R30.9	//r31 was 0
		Goto Spawn																//R30.9
	}
}

Actor FireFightFlare : Flare_General
{
Scale 0.20
+FORCEXYBILLBOARD
	states
	{
	Spawn:
		L2NY A 0 NoDelay A_Jump(128,2)
		L2NY A 4 Bright
		Stop
		L2NY B 4 Bright
		Stop
	}
}

Actor YellowFlareSmallB : YellowFlare
{
Scale 0.15
Alpha 0.3
+FORCEXYBILLBOARD
	states
	{
	Spawn:
		LENY A 0 NoDelay A_Jump(128,2)
		LENY A 1 Bright
		Stop
		LENY B 1 Bright
		Stop
	}
}

ACTOR RedFlareSpawn
{
Speed 20
PROJECTILE
+NOCLIP
	States
	{
	Spawn:
		TNT1 AA 1 NoDelay A_CustomMissile("RedFlareSmall2",-5,0,-85,0,random(-10,10))
		Stop
	}
}

ACTOR PLasmaFlareSpawn
{
Speed 20
PROJECTILE
+NOCLIP
	States
	{
	Spawn:
		TNT1 A 1 NoDelay A_CustomMissile("PlasmaFlare",-5,0,-85,0,random(-10,10))
		Stop
	}
}

ACTOR YellowFlareSpawn
{
Speed 20
PROJECTILE
+NOCLIP
+NOGRAVITY
	States
	{
	Spawn:
		TNT1 AA 1 NoDelay A_CustomMissile("YellowFlareSmallB",-5,0,-85,0,random(-10,10))
		//TNT1 AA 0 A_CustomMissile("OrangeLensFlareAlt",2,0,0,0,0)
		Stop
	}
}

ACTOR PlayerMuzzle1
{
Speed 0
PROJECTILE
+NOCLIP
+NOGRAVITY
	States
	{
	Spawn:
		PLMZ A 2 Bright
		Stop
	}
}

ACTOR PlayerMuzzle2
{
Scale 1.8
Speed 0
PROJECTILE
+NOCLIP
+NOGRAVITY
	States
	{
	Spawn:
		PLMZ A 2 Bright
		Stop
	}
}

ACTOR MarineMuzzle1
{
Speed 5
PROJECTILE
+NOCLIP
+NOGRAVITY
	States
	{
	Spawn:
		PLMZ A 0 NoDelay A_SpawnItem("DistantRifleFireSound")
		TNT1 A 4
		TNT1 A 0 A_Stop
		PLMZ A 2 Bright
		Stop
	}
}

ACTOR MarineMuzzle2
{
Scale 1.8
Speed 5
PROJECTILE
+NOCLIP
+NOGRAVITY
	States
	{
	Spawn:
		PLMZ A 0 NoDelay A_SpawnItem("DistantMinigunFireSound")
		TNT1 A 4
		TNT1 A 0 A_Stop
		PLMZ A 2 Bright
		Stop
	}
}

ACTOR BlueFlareSpawn
{
Speed 20
PROJECTILE
+NOCLIP
	States
	{
	Spawn:
		TNT1 AA 1 NoDelay A_CustomMissile("BlueFlareSmall",-5,0,-85,0,random(-10,10))
		Stop
	}
}

ACTOR GreenFlareSpawn
{
Speed 20
PROJECTILE
+NOCLIP
	States
	{
	Spawn:
		TNT1 AA 1 NoDelay A_CustomMissile("GreenFlareSmall",-5,0,-85,0,random(-10,10))
		Stop
	}
}

Actor RedFlare22 : Flare_General
{
	states
	{
	Spawn:
		L2NR A 0 NoDelay A_Jump(128,2)
		L2NR A 2 Bright
		Stop
		L2NR B 2 Bright
		Stop
	}
}

Actor RedFlareSmall22 : RedFlare22
{
Scale 0.15
}

Actor BlueFlare22 : Flare_General
{
	states
	{
	Spawn:
		L2NB A 0 NoDelay A_Jump(128,2)
		L2NB A 2 Bright
		Stop
		L2NB B 2 Bright
		Stop
	}
}

Actor GreenFlare22 : Flare_General
{
	states
	{
	Spawn:
		L2NG A 0 NoDelay A_Jump(128,2)
		L2NG A 2 Bright
		Stop
		L2NG B 2 Bright
		Stop
	}
}

Actor GreenFlareSmall22 : GreenFlare22
{
Scale 0.22
}

Actor YellowFlare22 : Flare_General
{
	states
	{
	Spawn:
		L2NY A 0 NoDelay A_Jump(128,2)
		L2NY A 2 Bright
		Stop
		L2NY B 2 Bright
		Stop
	}
}

Actor YellowFlareSmall22 : YellowFlare22
{
Scale 0.15
}

Actor YellowFlareSmall22Long : YellowFlare22
{
Scale 0.15
	states
	{
	Spawn:
		L2NY A 0 NoDelay A_Jump(128,6)
		L2NY AABAB 1 Bright
		Stop
		L2NY BABAB 1 Bright
		Stop
	}
}

Actor ExplosionFlareSpawner : Flare_General
{
	states
	{
	Spawn:
		TNT1 A 0 NoDelay A_SpawnItem("NewfagExplosionFlare")
		//L2NR AAA 1 Bright //A_SpawnItem("RedFlareLarge1x")
		//L2NR A 5
		Stop
	}
}

Actor LensFlareAlt : Flare_General
{
xScale 0.6
yScale 0.3
alpha 0.5
	states
	{
	Spawn:
		LENS A 5 Bright
		Stop
	}
}

Actor LensFlareAltLongOrangeForever : LensFlareAlt
{
Alpha 0.25
+RANDOMIZE
	states
	{
	Spawn:
//		TNT1 A 1 ACS_ExecuteAlways(17002,0)										//R30.9	//r31 removed
		LEYS O 0 NoDelay A_JumpIf(CallACS("Light_Fog_Remover")==2,"SpawnNo")			//r31
		TNT1 A 0 A_JumpIf(CallACS("Light_Fog_Remover")==0,"SpawnNo")			//r31
	Live:
		TNT1 A 0 A_CheckSight("WaitSight")
		LEYS O 4 Bright
		LEYZ O 2 Bright
		LEYS O 4 Bright
		LEYZ O 2 Bright
		LEYS O 8 Bright
		LEYZ O 4 Bright
		Goto Spawn																//R30.9 WAS LOOP
	WaitSight:
		TNT1 A 3
		Goto Live
	SpawnNo:																	//R30.9
		TNT1 A 525																//R30.9	//r31 was 0
		Goto Spawn																//R30.9
	}
}

Actor LensFlareTorchOrange : LensFlareAlt
{
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		LENS O 4 Bright
		LENZ O 1 Bright
		Stop
	}
}

Actor LensFlareTorchOrangeWallTorch : LensFlareTorchOrange		//r31 added swc
{
xScale 0.3
yScale 0.15
}

Actor LensFlareTorchRed : LensFlareAlt
{
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		LENS R 4 Bright
		LENZ R 1 Bright
		Stop
	}
}

Actor LensFlareTorchYellow : LensFlareAlt
{
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		LENS Y 4 Bright
		LENZ Y 1 Bright
		Stop
	}
}

Actor LensFlareTorchYellowWallTorch : LensFlareTorchYellow		//r31 added swc
{
xScale 0.3
yScale 0.15
}

Actor LensFlareProjectileOrange : LensFlareTorchOrange
{
	states
	{
	Spawn:
		LENS O 1 Bright
		LENZ O 1 Bright
		Stop
	}
}

Actor LensFlareProjectileGreen : LensFlareTorchOrange							//R11 WAS LensFlareProjectileGrene
{
	states
	{
	Spawn:
		LENS G 1 Bright
		LENZ G 1 Bright
		Stop
	}
}

Actor LensFlareProjectileYellow : LensFlareTorchOrange
{
	states
	{
	Spawn:
		LENS Y 1 Bright
		LENZ Y 1 Bright
		Stop
	}
}

Actor LensFlareTorchBlue : LensFlareAlt
{
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		LENS B 4 Bright
		LENZ B 1 Bright
		Stop
	}
}

Actor LensFlareTorchBlueWallTorch : LensFlareTorchBlue		//r31 added swc
{
xScale 0.3
yScale 0.15
}

Actor LensFlareProjectileBlue : LensFlareTorchBlue
{
	states
	{
	Spawn:
		LENS B 1 Bright
		LENZ B 1 Bright
		Stop
	}
}

Actor LensFlareTorchGreen : LensFlareAlt
{
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		LENS G 4 Bright
		LENZ G 1 Bright
		Stop
	}
}

Actor LensFlareTorchGreenWallTorch : LensFlareTorchGreen	//r31 added swc
{
xScale 0.3
yScale 0.15
}

Actor LensFlareAltLongHigh : LensFlareAlt
{
xScale 0.6
yScale 0.4
	states
	{
	Spawn:
		LENS A 1 Bright
		LENS A -1
		Stop
	}
}

Actor LensFlareAltLonger : LensFlareAlt
{
	states
	{
	Spawn:
		LENS A 20 Bright
		Stop
	}
}

Actor YellowLensFlareAlt : Flare_General
{
alpha 0.5
xScale 0.6
yScale 0.2
	states
	{
	Spawn:
		LEYS A 5 Bright
		Stop
	}
}

Actor YellowLensFlareAltLong : YellowLensFlareAlt
{
	states
	{
	Spawn:
		LEYS A 5 Bright
		Stop
	}
}

Actor GreenLensFlareAltSmall : Flare_General
{
xScale 0.4
yScale 0.1
alpha 0.3
+FORCEYBILLBOARD
	states
	{
	Spawn:
		LEYS G 8 Bright
		Stop
	}
}

Actor OrangeLensFlareAlt : Flare_General
{
xScale 0.5
yScale 0.2
Speed 20
alpha 0.6
+MISSILE
	states
	{
	Spawn:
		LEYS O 1 Bright
		TNT1 A 0 A_PlaySound("DISTFRRIFLE")
		TNT1 A 0 A_Stop
		LEYS O 3 Bright
		TNT1 A 60
		Stop
	}
}

Actor OrangeLensFlareAltFast : OrangeLensFlareAlt
{
	states
	{
	Spawn:
		LEYS O 2 Bright
		TNT1 A 0 A_PlaySound("DISTFMG")
		TNT1 A 0 A_Stop
		LEYS O 2 Bright
		TNT1 A 60
		Stop
	}
}

Actor DistantRifleFireSound : OrangeLensFlareAlt
{
	states
	{
	Spawn:
		TNT1 A 0 NoDelay A_PlaySound("DISTFRRIFLE")
		TNT1 A 0 A_Stop
		TNT1 A 60
		Stop
	}
}

Actor DistantMinigunFireSound : OrangeLensFlareAlt
{
	states
	{
	Spawn:
		TNT1 A 0 NoDelay A_PlaySound("DISTFMG")
		TNT1 A 0 A_Stop
		TNT1 A 60
		Stop
	}
}

Actor GreenLensFlareAltSmallZZ : Flare_General
{
xScale 0.2
yScale 0.2
alpha 0.4
+FORCEYBILLBOARD
	states
	{
	Spawn:
		LEYS G 3 Bright
		Stop
	}
}

Actor BlueLensFlareAltSmallZZ : Flare_General
{
xScale 0.2
yScale 0.2
alpha 0.4
+FORCEYBILLBOARD
	states
	{
	Spawn:
		LEYS B 3 Bright
		Stop
	}
}

Actor BFGFlare : LensFlareAlt													//R30.10
{
Scale 1.6
Alpha 0.5
-FORCEYBILLBOARD
+FORCEXYBILLBOARD
+RANDOMIZE
	states
	{
	Spawn:
		BFS1 A 1 NoDelay Bright A_SpawnItemEX("LensFlareTorchGreen")
		TNT1 A 0 A_CustomMissile("ExplosionParticleGreenHeavySmall",0,0,random(0,360),2,random(20,50))
		TNT1 A 0 A_CustomMissile("ExplosionParticleGreenVeryFast",0,0,random(0,360),2,random(20,40))
		BFS1 B 1 Bright A_SpawnItemEX("LensFlareTorchGreen")
		BFE2 A 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 A 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 B 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 B 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 C 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 C 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 D 1 Bright
		BFE2 E 1 Bright
		BFE2 F 1 Bright
		Stop
	}
}

Actor BruiserFlare : BFGFlare	//R31 added for Bruiser
{
Scale 0.5
	states
	{
	Spawn:
		BFS1 A 1 NoDelay Bright A_SpawnItemEX("LensFlareTorchGreen")
//		TNT1 A 0 A_CustomMissile("ExplosionParticleGreenVeryFast",0,0,random(0,360),2,random(20,40))
		BFS1 B 1 Bright A_SpawnItemEX("LensFlareTorchGreen")
		BFE2 A 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 A 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 B 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 B 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 C 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 C 1 Bright A_SpawnItemEX("GreenLensFlareAltSmallZZ")
		BFE2 D 1 Bright
		BFE2 E 1 Bright
		BFE2 F 1 Bright
		Stop
	}
}
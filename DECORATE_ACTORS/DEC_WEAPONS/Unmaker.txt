Actor UnmakerSpawner : CustomInventory 9901
{
//+INVENTORY.ALWAYSPICKUP		//R12.1 removed
Inventory.PickupMessage "What the !@# is this!"
Inventory.PickupSound "WPICK"
SpawnID 84
Scale 0.9
	States
	{
	Spawn:
		LGUN A -1
		Stop
	Pickup:		//R13 EDITED PICKUP TO SELECT CORRECT WEAPON BASED ON CLASS
		TNT1 A 0 A_JumpIfInventory("IsTacticalClass",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("IsModern",1,"Pickup2")		//R28 added
		TNT1 A 0 A_GiveInventory("Unmaker",1)
		Stop
	Pickup2:
		TNT1 A 0 A_GiveInventory("UnmakerTACTICAL",1)
		Stop
	}
}

Actor Unmaker : DoomWeapon// 9902		//R13 added	//R31 removed ThingID
{
Scale 0.9
Weapon.SelectionOrder 2900
Inventory.PickupMessage "What the !@# is this!"
AttackSound "weapons/unmaker"
Weapon.AmmoUse 1
Weapon.AmmoGive 20
Weapon.AmmoType "Cell"
Inventory.Icon LGUNA0
VisibleToPlayerClass "64DoomPlayer"
Inventory.ForbiddenTo "Tactical64DoomPlayer","Tactical64DoomPlayer_p","Modern"	//R15 added TACTICAL P	//R28 added MODERN
+INVENTORY.RESTRICTABSOLUTELY
Tag "Unmaker"
	States
	{
	Spawn:
		LGUN A -1
		Stop
	Ready:
		UNMA A 1 A_WeaponReady
		Loop
	Deselect:
		UNMA A 1 A_Lower
		Wait
	Select:
		UNMA A 1 A_Raise
		Loop
	Fire:
		TNT1 A 0 A_JumpIfInventory("WeaponPower",1,5)		//R30.8 WAS JUMP 4
		UNMA A 1 offset(0,40)								//R30.8 added
		TNT1 A 0 A_GunFlash
		UNMA A 3 A_FireCustomMissile("UnmakerLaser2")
		UNMA A 7
		Goto Ready
		TNT1 A 0 A_JumpIfInventory("WeaponPower",2,5)		//R30.8 WAS JUMP 4
		UNMA A 1 offset(0,40)								//R30.8 added
		TNT1 A 0 A_GunFlash
		UNMA A 3 A_FireCustomMissile("Unmakerlaser2")
		UNMA A 2
		Goto Ready
		TNT1 A 0 A_JumpIfInventory("WeaponPower",3,"Hold1")	//R30.8 WAS JUMP 8	//r31 was jump 9
		UNMA A 1 offset(0,40)								//R30.8 added
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("Unmakerlaser2",-1.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("Unmakerlaser2",1.0)
		UNMA A 3
		UNMA A 2
		TNT1 A 0 A_Refire
		Goto Ready
	Hold1:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2")
		TNT1 A 0 A_JumpIfNoAmmo(5)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",-1.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",1.0)
		UNMA A 3
		UNMA A 2
		TNT1 A 0 A_Refire("Hold2")
		Goto Ready
	Hold2:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2")
		TNT1 A 0 A_JumpIfNoAmmo(5)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",-3.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",3.0)
		UNMA A 3
		UNMA A 2
		TNT1 A 0 A_Refire("Hold3")
		Goto Ready
	Hold3:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2")
		TNT1 A 0 A_JumpIfNoAmmo(5)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",-6.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",6.0)
		UNMA A 3
		UNMA A 2
		TNT1 A 0 A_Refire("Hold4")
		Goto Ready
	Hold4:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2")
		TNT1 A 0 A_JumpIfNoAmmo(5)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",-9.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",9.0)
		UNMA A 3
		UNMA A 2
		TNT1 A 0 A_Refire("Hold5")
		Goto Ready
	Hold5:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2")
		TNT1 A 0 A_JumpIfNoAmmo(5)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",-12.0)
		TNT1 A 0 A_JumpIfNoAmmo(3)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser2",12.0)
		UNMA A 3
		UNMA A 2
		Goto Ready
	Flash:
		UNMA B 3 Bright
		goto LightDone
	}
}

Actor SoulAmmo : Ammo
{
Scale 0.45	//R31 added
Inventory.PickupMessage "Soul Collected"	//R31 added
Inventory.Amount 1			//r31 was 3
Inventory.MaxAmount 30
Ammo.BackpackAmount 0		//r31 was 3
Ammo.BackpackMaxAmount 30
Inventory.PickupSound "misc/p_pkup"
Inventory.Icon "SINII0"		//R10 WAS CLIPA0	//R27 WAS D4RFL0	//r31 was UNMLA0
ReactionTime 30				//R31
+ALWAYSPICKUP				//R31
Translation "Ice"
RenderStyle Add
Alpha 0.99
	States					//r31 added spawn
	{
	Spawn:
		SINI ABCDEFGHIJKLMNONLKJIHGFEDCBA 2 Light("SMALLBLUETORCH")
		TNT1 A 0 A_Countdown
		Loop
	Death:
		SINI L 4 A_FadeOut(0.05)
		Loop
	}
}

Actor DemonEssence : Ammo		//R31 added
{
Scale 0.45
Inventory.PickupMessage "Demonic Essence Collected"
Inventory.Amount 1
Inventory.MaxAmount 25
Ammo.BackpackAmount 0
Ammo.BackpackMaxAmount 25
Inventory.PickupSound "misc/p_pkup"
Inventory.Icon "SINII0"
ReactionTime 30
+ALWAYSPICKUP
RenderStyle Add
Alpha 0.9
	States
	{
	Spawn:
		SINI ABCDEFGHIJKLMNONLKJIHGFEDCBA 2 Light("SMALLREDTORCH")
		TNT1 A 0 A_Countdown
		Loop
	Death:
		SINI L 4 A_FadeOut(0.05)
		Loop
	}
}

Actor DemonEssenceLarge : DemonEssence		//R31 added For boss demons
{
Scale 0.75
Inventory.PickupMessage "Large Demonic Essence Collected"
}

Actor SoulSpawner		//r31 added
{
Radius 16
Height 16
	States
	{
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(CallACS("TUnmakerChecker",0,0,0) == 2,"ShowSoul")
		TNT1 A 0 A_JumpIf(CallACS("TUnmakerChecker",0,0,0) == 3,"ShowSoul")
		Stop
	ShowSoul:
		TNT1 A 0 A_SpawnItemEx("SoulAmmo",0,0,0,random(0,5),random(0,5),5,random(0,360))
		Stop
	}
}

Actor DemonEssenceSpawner		//r31 added
{
Radius 16
Height 16
	States
	{
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(CallACS("TUnmakerChecker",0,0,0) == 3,"ShowEssence")
		Stop
	ShowEssence:
		TNT1 A 0 A_SpawnItemEx("DemonEssence",0,0,0,random(0,5),random(0,5),5,random(0,360))
		Stop
	}
}

Actor DemonEssenceLargeSpawner		//r31 added
{
Radius 16
Height 16
	States
	{
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(CallACS("TUnmakerChecker",0,0,0) == 3,"ShowEssence")
		Stop
	ShowEssence:
		TNT1 A 0 A_SpawnItemEx("DemonEssenceLarge",0,0,0,random(0,5),random(0,5),5,random(0,360))
		Stop
	}
}

Actor UnmakerTACTICAL : Brutal64Weapon
{
Scale 0.9
Weapon.SelectionOrder 2901			//R21 WAS 2900
Inventory.PickupMessage "What the !@# is this!"
AttackSound "weapons/unmaker"
Weapon.AmmoUse 1
Weapon.AmmoGive 20					//R11 WAS 40
Weapon.AmmoType "SoulAmmo"
Weapon.AmmoUse2 25					//R31 added
Weapon.AmmoGive2 0					//R31 added
Weapon.AmmoType2 "DemonEssence"		//R31 added
Inventory.Icon LGUNA0
+INVENTORY.RESTRICTABSOLUTELY		//R13 added
Tag "Unmaker"				//R11 added
+WEAPON.ALT_AMMO_OPTIONAL	//r31 added
+WEAPON.NOALERT				//R31 added
	States
	{
	KickingFlash:	//r31 new kick animations
		UNMS DCBA 1
		UNMS A 8
		UNMS ABCD 1
		Stop
	AirKickingFlash:
		UNMS DCBA 1
		UNMS A 10
		UNMS ABCD 1
		Stop
	SlideKickingStart:
		UNMS DCBA 1
		UNMS A 18
	SlideKickingEnd:
		UNMS A 6
		UNMS ABCD 1
		Stop
	Spawn:
		LGUN A -1
		Loop
	v1Ready:
	Ready:
		UNMA A 1 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
//		TNT1 A 0 A_PlaySoundEx("UNMKLP","WEAPON",1)				//R1 removed SOUND	//R13 REadded FOR TACTICAL		//R31 SOUND FOX FOR GZ4.8
		TNT1 A 0 A_PlaySound("UNMKLP",CHAN_WEAPON,1,1)			//R31 SOUND FOX FOR GZ4.8
		Loop
	Select: //R31 Select Animation Improvement (Tactical and Modern only)
		TNT1 AAAAAAAAAA 0 A_Raise
		UNMA A 0 A_PlaySound("UNMAKSEL")
		Goto SelectAnimation
	SelectAnimation:
		UNMS ABCD 1
		Goto Ready
	Deselect:
		UNMS DCBA 1
//		TNT1 A 0 A_StopSoundEx("WEAPON")		//R31 SOUND FOX FOR GZ4.8
		TNT1 A 0 A_StopSound(CHAN_WEAPON)		//R31 SOUND FOX FOR GZ4.8
		TNT1 A 1 A_Lower
		Wait
	Fire:
		UNMA A 1
		TNT1 A 0 A_ZoomFActor(0.9)
		TNT1 A 0 A_PlaySound("UNMAKER",4)
		TNT1 A 0 A_AlertMonsters	//r31 added
		TNT1 A 0 A_JumpIfInventory("WeaponPower",3,"Fire3")
		TNT1 A 0 A_JumpIfInventory("WeaponPower",2,"Fire2")
		TNT1 A 0 A_JumpIfInventory("WeaponPower",1,"Fire1")
		TNT1 A 0 A_GunFlash
	Fire0:
		UNMA A 1
		TNT1 A 0 A_FireCustomMissile("UnmakerLaser",0,1)
		Goto FireAnimation
	Fire1:
		UNMA A 1
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",0,1)
		Goto FireAnimation
	Fire2:
		UNMA A 1
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",3,1)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",-3,0,0)
		Goto FireAnimation
	Fire3:
		UNMA A 1
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",0,1)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",4,0,0)
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserPierce",-4,0,0)
		Goto FireAnimation
	FireAnimation:
		TNT1 A 0 A_ZoomFActor(1.0)
		UNMA C 3 Bright		//R30.8 WAS B & 1 TIC
		UNMA JKLDE 1
		UNMA A 18			//R30.8 WAS 20 TIC
		Goto Ready
	AltFire:	//r31 added altfire
		TNT1 A 0 A_jumpifNoAmmo("NotReady")
		TNT1 A 0 A_ZoomFActor(0.9)
		TNT1 A 0 A_PlaySound("UNMAKER",4)
		TNT1 A 0 A_AlertMonsters
		UNMA A 1
		TNT1 A 0 A_FireCustomMissile("UnmakerLaserWhite",0,1)
		TNT1 A 0 A_TakeInventory("DemonEssence",24)
		TNT1 A 0 A_FireCustomMissile("GunFireSmoke",0,0,0,0,0,0)
		TNT1 A 0 A_ZoomFActor(1.0)
		UNM2 A 3 Bright		//R30.8 WAS B & 1 TIC
		UNMA JKLDE 1
		UNMA A 18			//R30.8 WAS 20 TIC
		Goto Ready
	NotReady:	//r31 added notready
		TNT1 A 0 A_Print("Not Enough Ammo!",1)
		Goto Ready
	}
}

Actor UnmakerLaser2 : FastProjectile//9904	//R31 removed 9904
{
Scale 1
Radius 2
Height 4
Speed 120
Damage 10
DamageType "BFG"
//Alpha 1
RenderStyle Normal
Decal LaserDecal		//R28.2 added	//r31 was BULLETDECALNEW1
SeeSound "weapons/unmaker"
DeathSound ""
Obituary "%o was unmade by %k."
PROJECTILE
+RANDOMIZE
+EXTREMEDEATH
+FORCERADIUSDMG
	States
	{
	Spawn:
		ULAZ A 1 Bright
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-21*momx)/35.0,-(-21*momy)/35.0,0+(-21*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-18*momx)/35.0,-(-18*momy)/35.0,0+(-18*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-15*momx)/35.0,-(-15*momy)/35.0,0+(-15*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-12*momx)/35.0,-(-12*momy)/35.0,0+(-12*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-9*momx)/35.0,-(-9*momy)/35.0,0+(-9*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-6*momx)/35.0,-(-6*momy)/35.0,0+(-6*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-3*momx)/35.0,-(-3*momy)/35.0,0+(-3*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 3*momx)/35.0,-( 3*momy)/35.0,0+( 3*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)		//R31 was -1 zfloat
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 6*momx)/35.0,-( 6*momy)/35.0,0+( 6*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 9*momx)/35.0,-( 9*momy)/35.0,0+( 9*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(12*momx)/35.0,-(12*momy)/35.0,0+(12*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(15*momx)/35.0,-(15*momy)/35.0,0+(15*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(18*momx)/35.0,-(18*momy)/35.0,0+(18*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(21*momx)/35.0,-(21*momy)/35.0,0+(21*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(24*momx)/35.0,-(24*momy)/35.0,0+(24*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(27*momx)/35.0,-(27*momy)/35.0,0+(27*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(30*momx)/35.0,-(30*momy)/35.0,0+(30*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(33*momx)/35.0,-(33*momy)/35.0,0+(33*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(36*momx)/35.0,-(36*momy)/35.0,0+(36*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(39*momx)/35.0,-(39*momy)/35.0,0+(39*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(42*momx)/35.0,-(42*momy)/35.0,0+(42*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(45*momx)/35.0,-(45*momy)/35.0,0+(45*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)	//r31 longer trail
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(48*momx)/35.0,-(48*momy)/35.0,0+(48*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(51*momx)/35.0,-(51*momy)/35.0,0+(51*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(54*momx)/35.0,-(54*momy)/35.0,0+(54*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(57*momx)/35.0,-(57*momy)/35.0,0+(57*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(60*momx)/35.0,-(60*momy)/35.0,0+(60*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(63*momx)/35.0,-(63*momy)/35.0,0+(63*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(66*momx)/35.0,-(66*momy)/35.0,0+(66*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(69*momx)/35.0,-(69*momy)/35.0,0+(69*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(72*momx)/35.0,-(72*momy)/35.0,0+(72*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(75*momx)/35.0,-(75*momy)/35.0,0+(75*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(78*momx)/35.0,-(78*momy)/35.0,0+(78*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(81*momx)/35.0,-(81*momy)/35.0,0+(81*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(84*momx)/35.0,-(84*momy)/35.0,0+(84*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(87*momx)/35.0,-(87*momy)/35.0,0+(87*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(90*momx)/35.0,-(90*momy)/35.0,0+(90*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("DetectFloorLaser",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)					//R28.2	//r31 was DetectFloorBullet
		TNT1 A 0 A_SpawnItemEx("DetectCeilLaser",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)					//R28.2	//r31 was DetectFloorBullet
		TNT1 AAAAA 0 A_CustomMissile("ExplosionParticleHeavy",0,0,random(0,360),2,random(0,180))		//R31 WAS 5 SPAWN Height	was 9*a
		TNT1 AAAAAAAAAA 0 A_CustomMissile("ExplosionParticleHeavy",0,0,random(0,360),2,random(0,360))	//R31 WAS 5 SPAWN Height	was 18*a
		TNT1 AAAAA 0 A_CustomMissile("ExplosionParticleVeryFast",0,0,random(0,360),2,random(0,360))		//R31 WAS 5 SPAWN Height	was 9*a
		TNT1 A 0 A_Explode(100,15,1)
		TNT1 AAAAA 1 A_SpawnItem("RocketFlare")
		TNT1 AAAAA 0 A_CustomMissile("PlasmaSmoke",0,0,random(0,360),2,random(0,360))	//R31 WAS ExplosionSmokeFast22 & WAS 5 SPAWN Height
		LPUF ABC 4 Bright
		Stop
	}
}

Actor UnmakerLaser : UnmakerLaser2
{
Damage(Random(25,50))
	States
	{
	Spawn:
		ULAZ A 1 Bright
		TNT1 A 0 A_SpawnItem("SuperGore")
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-21*momx)/35.0,-(-21*momy)/35.0,0+(-21*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-18*momx)/35.0,-(-18*momy)/35.0,0+(-18*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-15*momx)/35.0,-(-15*momy)/35.0,0+(-15*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-12*momx)/35.0,-(-12*momy)/35.0,0+(-12*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-9*momx)/35.0,-(-9*momy)/35.0,0+(-9*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-6*momx)/35.0,-(-6*momy)/35.0,0+(-6*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(-3*momx)/35.0,-(-3*momy)/35.0,0+(-3*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 3*momx)/35.0,-( 3*momy)/35.0,0+( 3*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)		//R31 was -1 zfloat
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 6*momx)/35.0,-( 6*momy)/35.0,0+( 6*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",( 9*momx)/35.0,-( 9*momy)/35.0,0+( 9*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(12*momx)/35.0,-(12*momy)/35.0,0+(12*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(15*momx)/35.0,-(15*momy)/35.0,0+(15*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(18*momx)/35.0,-(18*momy)/35.0,0+(18*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(21*momx)/35.0,-(21*momy)/35.0,0+(21*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(24*momx)/35.0,-(24*momy)/35.0,0+(24*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(27*momx)/35.0,-(27*momy)/35.0,0+(27*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(30*momx)/35.0,-(30*momy)/35.0,0+(30*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(33*momx)/35.0,-(33*momy)/35.0,0+(33*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(36*momx)/35.0,-(36*momy)/35.0,0+(36*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(39*momx)/35.0,-(39*momy)/35.0,0+(39*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(42*momx)/35.0,-(42*momy)/35.0,0+(42*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(45*momx)/35.0,-(45*momy)/35.0,0+(45*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)	//r31 longer trail
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(48*momx)/35.0,-(48*momy)/35.0,0+(48*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(51*momx)/35.0,-(51*momy)/35.0,0+(51*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(54*momx)/35.0,-(54*momy)/35.0,0+(54*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(57*momx)/35.0,-(57*momy)/35.0,0+(57*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(60*momx)/35.0,-(60*momy)/35.0,0+(60*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(63*momx)/35.0,-(63*momy)/35.0,0+(63*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(66*momx)/35.0,-(66*momy)/35.0,0+(66*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(69*momx)/35.0,-(69*momy)/35.0,0+(69*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(72*momx)/35.0,-(72*momy)/35.0,0+(72*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(75*momx)/35.0,-(75*momy)/35.0,0+(75*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(78*momx)/35.0,-(78*momy)/35.0,0+(78*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(81*momx)/35.0,-(81*momy)/35.0,0+(81*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(84*momx)/35.0,-(84*momy)/35.0,0+(84*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(87*momx)/35.0,-(87*momy)/35.0,0+(87*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrail",(90*momx)/35.0,-(90*momy)/35.0,0+(90*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		Loop
	}
}

Actor UnmakerLaserWhite : UnmakerLaser	//r31 added
{
Damage 1000
Speed 85
Decal Scorch
Scale 1.2
Alpha 1
RenderStyle Add
	States
	{
	Spawn:
		LENZ A 1 Bright
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",( 3*momx)/35.0,-( 3*momy)/35.0,0+( 3*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)		//R31 was -1 zfloat
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",( 6*momx)/35.0,-( 6*momy)/35.0,0+( 6*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",( 9*momx)/35.0,-( 9*momy)/35.0,0+( 9*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(12*momx)/35.0,-(12*momy)/35.0,0+(12*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(15*momx)/35.0,-(15*momy)/35.0,0+(15*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(18*momx)/35.0,-(18*momy)/35.0,0+(18*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(21*momx)/35.0,-(21*momy)/35.0,0+(21*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(24*momx)/35.0,-(24*momy)/35.0,0+(24*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(27*momx)/35.0,-(27*momy)/35.0,0+(27*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(30*momx)/35.0,-(30*momy)/35.0,0+(30*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(33*momx)/35.0,-(33*momy)/35.0,0+(33*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(36*momx)/35.0,-(36*momy)/35.0,0+(36*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(39*momx)/35.0,-(39*momy)/35.0,0+(39*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(42*momx)/35.0,-(42*momy)/35.0,0+(42*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(45*momx)/35.0,-(45*momy)/35.0,0+(45*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)	//r31 longer trail
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(48*momx)/35.0,-(48*momy)/35.0,0+(48*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(51*momx)/35.0,-(51*momy)/35.0,0+(51*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(54*momx)/35.0,-(54*momy)/35.0,0+(54*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(57*momx)/35.0,-(57*momy)/35.0,0+(57*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(60*momx)/35.0,-(60*momy)/35.0,0+(60*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(63*momx)/35.0,-(63*momy)/35.0,0+(63*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(66*momx)/35.0,-(66*momy)/35.0,0+(66*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(69*momx)/35.0,-(69*momy)/35.0,0+(69*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(72*momx)/35.0,-(72*momy)/35.0,0+(72*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(75*momx)/35.0,-(75*momy)/35.0,0+(75*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(78*momx)/35.0,-(78*momy)/35.0,0+(78*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(81*momx)/35.0,-(81*momy)/35.0,0+(81*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(84*momx)/35.0,-(84*momy)/35.0,0+(84*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(87*momx)/35.0,-(87*momy)/35.0,0+(87*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		TNT1 A 0 A_SpawnItemEx("UnmakerLaserTrailWhite",(90*momx)/35.0,-(90*momy)/35.0,0+(90*momz)/35.0,0,0,0,0,SXF_ABSOLUTEANGLE)
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("DetectFloorLaser",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)					//R28.2	//r31 was DetectFloorBullet
		TNT1 A 0 A_SpawnItemEx("DetectCeilLaser",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)					//R28.2	//r31 was DetectFloorBullet
		TNT1 AAAAA 0 A_CustomMissile("ExplosionParticleHeavy",0,0,random(0,360),2,random(0,180))		//R31 WAS 5 SPAWN Height	was 9*a
		TNT1 AAAAAAAAAA 0 A_CustomMissile("ExplosionParticleHeavy",0,0,random(0,360),2,random(0,360))	//R31 WAS 5 SPAWN Height	was 18*a
		TNT1 AAAAA 0 A_CustomMissile("ExplosionParticleVeryFast",0,0,random(0,360),2,random(0,360))		//R31 WAS 5 SPAWN Height	was 9*a
		TNT1 A 0 A_Explode(100,15,1)
		TNT1 AAAAA 0 A_CustomMissile("PlasmaSmoke",0,0,random(0,360),2,random(0,360))	//R31 WAS ExplosionSmokeFast22 & WAS 5 SPAWN Height
		SHWK ABCDEFGHIJKL 1 Bright	//R31 Added frames
		Stop
	}
}

Actor UnmakerLaserTrail// 9903	//R31 removed 9903
{
Scale 1.0	//R14 was 0.6	//r31 was 0.3
Height 4
Radius 2
Speed 0
Damage 0
//Alpha 1
RenderStyle Normal
PROJECTILE
	states
	{
	Spawn:
		ULAZ A 2 Bright			//r31 WAS ABAB
		Stop
	Death:
		TNT1 A 0
		Stop
	}
}

Actor UnmakerLaserTrailWhite : UnmakerLaserTrail	//r31 added
{
Scale 0.6
Alpha 1
RenderStyle Add
	states
	{
	Spawn:
		LENS A 2 Bright
		Stop
	}
}

Actor UnmakerLaserPierce: UnmakerLaser
{
Damage 8
+RIPPER
}
//R20 Added Project Nightmare monsters through optional spawners

//Option to replace plasma rifle with lasergun
Actor Dyn_PlasmaRifleReplacer Replaces Plasmarifle
{
Scale 0.82
	States
	{
	Spawn:
		PLAS A 0 NoDelay A_JumpIf(CallACS("GaussCannonRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("GaussCannonRandom")==1,3)
		TNT1 A 0 A_Jump(64,2) //(25%)
		TNT1 A 0 A_SpawnItemEx("PlasmaRifleSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("BD64_GaussCannonSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

//Option to replace BFG with unmaker
Actor Dyn_BFGReplacer Replaces BFG9000
{
Scale 0.9
	States
	{
	Spawn:
		BFUG A 0 NoDelay A_JumpIf(CallACS("BFGRandom")==0,4)
		TNT1 A 0 A_JumpIf(CallACS("BFGRandom")==1,"Unmaker")
		TNT1 A 0 A_JumpIf(CallACS("BFGRandom")==2,"Lasergun")
		TNT1 A 0 A_Jump(64,"Unmaker","Lasergun") //(25%)
		TNT1 A 0 A_SpawnItemEx("BFG9000Spawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	Unmaker:	
		TNT1 A 0 A_SpawnItemEx("UnmakerSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	Lasergun:	
		TNT1 A 0 A_SpawnItemEx("LasergunSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop		
	}
}

//Options to replace powerups with unmaker powerups
Actor Dyn_WpnPower1Replacer Replaces Blursphere
{
Scale 0.82
	States
	{
	Spawn:
		PINS A 0 NoDelay A_JumpIf(CallACS("WpnPowerRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("WpnPowerRandom")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A 0 A_SpawnItemEx("64Blursphere",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)	//R26 switched to blursphere
		Stop
		TNT1 A 0 A_SpawnItemEx("64Blursphere",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)		//R26 switched to WpnPower1
		TNT1 A 0 A_SpawnItem("WpnPower1")
		Stop
	}
}

Actor Dyn_WpnPower2Replacer Replaces Berserk
{
Scale 0.82
	States
	{
	Spawn:
		PSTR A 0 NoDelay A_JumpIf(CallACS("WpnPowerRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("WpnPowerRandom")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A 0 A_SpawnItemEx("64Berserk",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64Berserk",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		TNT1 A 0 A_SpawnItem("WpnPower2")
		Stop
	}
}

Actor Dyn_WpnPower3Replacer Replaces Soulsphere
{
Scale 0.7
	States
	{
	Spawn:
		SOUL A 0 NoDelay A_JumpIf(CallACS("WpnPowerRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("WpnPowerRandom")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A 0 A_SpawnItemEx("64Soulsphere",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64Soulsphere",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		TNT1 A 0 A_SpawnItem("WpnPower3")
		Stop
	}
}

//Option to replace shotgun with SSG for Doom1
Actor SSG_Shotgun_Replacer Replaces Shotgun		//r31 new
{
Scale 0.87
	States
	{
	Spawn:
		SHOT A 0 NoDelay A_JumpIf(CallACS("SSGinDoom1")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("SSGinDoom1")==1,3)
		TNT1 A 0 A_Jump(64,2) //(25%)
		TNT1 A 0 A_SpawnItemEx("Shotgunspawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("SuperShotgunSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

//R26 Optional monster spawners
Actor NImp_Random Replaces Doomimp
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		TROO A 0 NoDelay A_JumpIf(CallACS("NImpRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("NImpRandom")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A 0 A_SpawnItemEx("64DoomImp",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("Nightmareimp",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor NSpectre_Random Replaces Spectre
{
Scale 0.9
MONSTER
-SOLID
-COUNTKILL
States
{
	Spawn:
		SAR2 A 0 NoDelay A_JumpIf(CallACS("NSpectreRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("NSpectreRandom")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A 0 A_SpawnItemEx("64Spectre",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64NightmareSpectre",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor NCacodemon_Random Replaces Cacodemon
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		HEAD A 0 NoDelay A_JumpIf(CallACS("NCacoRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("NCacoRandom")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A 0 A_SpawnItemEx("64Cacodemon",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("NightmareCacodemon",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor Hellhound_Random Replaces BaronOfHell		//08-08-22 revised to spawn from baron & combined hound chooser & tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 0.9
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		BOSS A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("HellHoundRandom")==0,"SpawnBaron")	//Baron only
		TNT1 A 0 A_JumpIf(CallACS("HellHoundRandom")==1,2)	//Hound Chooser
		TNT1 A 0 A_Jump(205,"SpawnBaron") //(80%)
		TNT1 A 0 A_JumpIf(CallACS("HoundChooserACS")==1,4)//GEC
		TNT1 A 0 A_JumpIf(CallACS("HoundChooserACS")==2,2)//CERB
		TNT1 A -1 A_SpawnItemEx("64Hellhound",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("64CHellHound",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("64HellHoundGEC",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	SpawnBaron:
		TNT1 A -1 A_SpawnItemEx("64BaronOfHell",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_HellKnight_Replacer Replaces HellKnight	//tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		BOS2 A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("KnightmareRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("KnightmareRandom")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A -1 A_SpawnItemEx("64HellKnight",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("64Knightmare",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Cyberdemon_Replacer Replaces Cyberdemon	//08-08-22 tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		CYBR A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("AnnihilatorRandom")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("AnnihilatorRandom")==1,3)
		TNT1 A 0 A_Jump(64,2) //(25%)
		TNT1 A -1 A_SpawnItemEx("64Cyberdemon",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("Annihilator64",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Archvile_Replacer Replaces Archvile	//08-08-22 combined hound chooser & archvile replacer
{
Scale 0.75
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		VILE A 0 NoDelay A_JumpIf(CallACS("D64MonstersOnlyReplacer")==1,"SpawnArachnotron")	//was 1481	//if 1 goto arachnotron
		TNT1 A 0 A_JumpIf(CallACS("ArchvileRestorer")==1,"SpawnArchvile")	//if 1 goto archvile
		TNT1 A 0 A_JumpIf(CallACS("HoundChooserACS")==1,4)//GEC
		TNT1 A 0 A_JumpIf(CallACS("HoundChooserACS")==2,2)//CERB
		TNT1 A 0 A_SpawnItemEx("64Hellhound",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64CHellHound",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64HellHoundGEC",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	SpawnArchvile:
		TNT1 A 0 A_SpawnItemEx("64Archvile",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	SpawnArachnotron:
		TNT1 A 0 A_SpawnItemEx("64Arachnotron",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Revenant_Replacer Replaces Revenant	//09-08-22 combined revenant chooser
{
Scale 0.6
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		SKEL A 0 NoDelay A_JumpIf(CallACS("D64MonstersOnlyReplacer")==1,4)	//was 1481	//if 1 goto Baron
		TNT1 A 0 A_JumpIf(CallACS("RevenantChooserACS")==1,2)
		TNT1 A 0 A_SpawnItemEx("64Revenant",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64TRevenant",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64BaronOfHell",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Mastermind_Replacer Replaces SpiderMastermind		//08-08-22 Combined motherdemon spawner & tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 1
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		MSMN A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("D64MonstersOnlyReplacer")==1,"D64MonsterOnly")	//was 1481	//if 1 goto cyberdemon
		TNT1 A 0 A_JumpIf(CallACS("MotherDemonRandom")==0,"SpawnMastermind")
		TNT1 A 0 A_JumpIf(CallACS("MotherDemonRandom")==1,"SpawnMother")
		TNT1 A 0 A_JumpIf(CallACS("MotherDemonRandom")==2,"SpawnEradicator")
		TNT1 A 0 A_Jump(51,"SpawnMother","SpawnEradicator")//(20%)
	SpawnMastermind:
		TNT1 A -1 A_SpawnItemEx("64SpiderMastermind",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	SpawnMother:
		TNT1 A -1 A_SpawnItemEx("MotherDemon",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	D64MonsterOnly:
		TNT1 A -1 A_SpawnItemEx("64Cyberdemon",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	SpawnEradicator:
		TNT1 A -1 A_SpawnItemEx("64Eradicator",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64Arachnotron_Replacer Replaces Arachnotron		//04-09-22 tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		BSPI A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("NightCrawlerRandomACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("NightCrawlerRandomACS")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A -1 A_SpawnItemEx("64Arachnotron",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("64NightCrawler",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
	}
}

Actor SSG_Zombie_Random Replaces Shotgunguy	//R31 added
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		SPOS A 0 NoDelay A_JumpIf(CallACS("SSGZombieRandomACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("SSGZombieRandomACS")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A 0 A_SpawnItemEx("64Shotgunguy",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64SSGguy",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Chaingunner_Random Replaces Chaingunguy //R31 added
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		MPOS A 0 NoDelay A_JumpIf(CallACS("D64ChaingunnerRandomACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("D64ChaingunnerRandomACS")==1,3)
		TNT1 A 0 A_Jump(64,2) //(25%)
		TNT1 A 0 A_SpawnItemEx("64Chaingunguy",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64ZombieMarine",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64AcidDemonRandom Replaces Demon //R31 added
{
Scale 0.9
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		SARG A 0 NoDelay A_JumpIf(CallACS("AcidDemonRandomACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("AcidDemonRandomACS")==1,3)
		TNT1 A 0 A_Jump(39,2) //(15%)
		TNT1 A 0 A_SpawnItemEx("64Demon",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64AcidDemon",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64StalkerRandom Replaces LostSoul //R31 added
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
	States
	{
	Spawn:
		SKUL A 0 NoDelay A_JumpIf(CallACS("StalkerRandomACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("StalkerRandomACS")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A 0 A_SpawnItemEx("64LostSoul",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A 0 A_SpawnItemEx("64Stalker",0,0,0,0,0,0,0,SXF_TRANSFERAMBUSHFLAG|SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor Dyn_ChaingunReplacer Replaces Chaingun //R31 Added
{
Scale 0.82
	States
	{
	Spawn:
		MGUN A 0 NoDelay A_JumpIf(CallACS("ChaingunRandomACS")==0,4)
		TNT1 A 0 A_JumpIf(CallACS("ChaingunRandomACS")==1,"Rifle")
		TNT1 A 0 A_JumpIf(CallACS("ChaingunRandomACS")==2,"SMG")
		TNT1 A 0 A_Jump(64,"SMG","Rifle") //(25%)
		TNT1 A 0 A_SpawnItemEx("ChaingunSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	Rifle:	
		TNT1 A 0 A_SpawnItemEx("RifleSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop			
	SMG:
		TNT1 A 0 A_SpawnItemEx("SMGSpawner",0,0,0,0,0,0,0,SXF_TRANSFERPOINTERS|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}

Actor D64_Mancubus_Replacer Replaces Fatso	//06-10-22 tag 666 fix (A_KillMaster must be called from spawned monster)
{
Scale 0.8
MONSTER
-SOLID
-COUNTKILL
+BOSSDEATH
	States
	{
	Death:
	XDeath:
		TNT1 A 0 A_BossDeath
		Stop
	Spawn:
		FATT A 0 NoDelay A_NoBlocking
		TNT1 A 0 A_JumpIf(CallACS("BruiserRandom_ACS")==0,3)
		TNT1 A 0 A_JumpIf(CallACS("BruiserRandom_ACS")==1,3)
		TNT1 A 0 A_Jump(51,2) //(20%)
		TNT1 A -1 A_SpawnItemEx("64Fatso",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
		TNT1 A -1 A_SpawnItemEx("64Bruiser",0,0,0,0,0,0,0,SXF_SETMASTER|SXF_NOCHECKPOSITION|SXF_TRANSFERAMBUSHFLAG|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID,0,tid)
		Stop
	}
}